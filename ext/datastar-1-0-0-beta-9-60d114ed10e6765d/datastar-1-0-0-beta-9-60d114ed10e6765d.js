// Datastar v1.0.0-beta.9
var Ye=/ðŸ–•JS_DSðŸš€/.source,ve=Ye.slice(0,5),Pe=Ye.slice(4),F="datastar";var ye=300;var be=!1,Ze=!1;var W={Morph:"morph",Inner:"inner",Outer:"outer",Prepend:"prepend",Append:"append",Before:"before",After:"after",UpsertAttributes:"upsertAttributes"},Qe=W.Morph,q={MergeFragments:"datastar-merge-fragments",MergeSignals:"datastar-merge-signals",RemoveFragments:"datastar-remove-fragments",RemoveSignals:"datastar-remove-signals",ExecuteScript:"datastar-execute-script"};var x=(r=>(r[r.Attribute=1]="Attribute",r[r.Watcher=2]="Watcher",r[r.Action=3]="Action",r))(x||{});var ue=`${F}-signals`;var ee=t=>t.trim()==="true",ce=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase()),X=t=>ce(t).replace(/-./g,e=>e[1].toUpperCase()),ke=t=>ce(t).replace(/-/g,"_"),ln=t=>X(t).replace(/^./,e=>e[0].toUpperCase()),Se=t=>new Function(`return Object.assign({}, ${t})`)(),te=t=>t.startsWith("$")?t.slice(1):t,un={kebab:ce,snake:ke,pascal:ln};function P(t,e){for(let n of e.get("case")||[]){let r=un[n];r&&(t=r(t))}return t}var cn="computed",et={type:1,name:cn,keyReq:1,valReq:1,onLoad:({key:t,mods:e,signals:n,genRX:r})=>{t=P(t,e);let i=r();n.setComputed(t,i)}};var tt={type:1,name:"signals",onLoad:t=>{let{key:e,mods:n,signals:r,value:i,genRX:s}=t,c=n.has("ifmissing");if(e!==""){let u=P(e,n),f=i===""?i:s()();c?r.upsertIfMissing(u,f):r.setValue(u,f)}else{let u=Se(t.value);t.value=JSON.stringify(u);let A=s()();r.merge(A,c)}}};var nt={type:1,name:"star",keyReq:2,valReq:2,onLoad:()=>{alert("YOU ARE PROBABLY OVERCOMPLICATING IT")}};var ne=class{#e=0;#t;constructor(e=F){this.#t=e}with(e){if(typeof e=="string")for(let n of e.split(""))this.with(n.charCodeAt(0));else typeof e=="boolean"?this.with(1<<(e?7:3)):this.#e=this.#e*33^e;return this}get value(){return this.#e}get string(){return this.#t+Math.abs(this.#e).toString(36)}};function Te(t){if(t.id)return t.id;let e=new ne,n=t;for(;n;){if(e.with(n.tagName||""),n.id){e.with(n.id);break}let r=n?.parentNode;r&&e.with([...r.children].indexOf(n)),n=r}return e.string}function Ae(t,e){return new ne().with(t).with(e).value}function fe(t,e){if(!t||!(t instanceof HTMLElement||t instanceof SVGElement))return null;let n=t.dataset;if("starIgnore"in n)return null;"starIgnore__self"in n||e(t);let r=t.firstElementChild;for(;r;)fe(r,e),r=r.nextElementSibling}var fn="https://data-star.dev/errors";function De(t,e,n={}){let r=new Error;r.name=`${F} ${t} error`;let i=ke(e),s=new URLSearchParams({metadata:JSON.stringify(n)}).toString(),c=JSON.stringify(n,null,2);return r.message=`${e}
More info: ${fn}/${t}/${i}?${s}
Context: ${c}`,r}function G(t,e,n={}){return De("internal",e,Object.assign({from:t},n))}function B(t,e,n={}){let r={plugin:{name:e.plugin.name,type:x[e.plugin.type]}};return De("init",t,Object.assign(r,n))}function I(t,e,n={}){let r={plugin:{name:e.plugin.name,type:x[e.plugin.type]},element:{id:e.el.id,tag:e.el.tagName},expression:{rawKey:e.rawKey,key:e.key,value:e.value,validSignals:e.signals.paths(),fnContent:e.fnContent}};return De("runtime",t,Object.assign(r,n))}var re="preact-signals",dn=Symbol.for("preact-signals"),K=1,ie=2,pe=4,oe=8,_e=16,se=32;function He(){Ee++}function Fe(){if(Ee>1){Ee--;return}let t,e=!1;for(;de!==void 0;){let n=de;for(de=void 0,Oe++;n!==void 0;){let r=n._nextBatchedEffect;if(n._nextBatchedEffect=void 0,n._flags&=~ie,!(n._flags&oe)&&it(n))try{n._callback()}catch(i){e||(t=i,e=!0)}n=r}}if(Oe=0,Ee--,e)throw t}var R;var de,Ee=0,Oe=0,we=0;function rt(t){if(R===void 0)return;let e=t._node;if(e===void 0||e._target!==R)return e={_version:0,_source:t,_prevSource:R._sources,_nextSource:void 0,_target:R,_prevTarget:void 0,_nextTarget:void 0,_rollbackNode:e},R._sources!==void 0&&(R._sources._nextSource=e),R._sources=e,t._node=e,R._flags&se&&t._subscribe(e),e;if(e._version===-1)return e._version=0,e._nextSource!==void 0&&(e._nextSource._prevSource=e._prevSource,e._prevSource!==void 0&&(e._prevSource._nextSource=e._nextSource),e._prevSource=R._sources,e._nextSource=void 0,R._sources._nextSource=e,R._sources=e),e}function C(t){this._value=t,this._version=0,this._node=void 0,this._targets=void 0}C.prototype.brand=dn;C.prototype._refresh=()=>!0;C.prototype._subscribe=function(t){this._targets!==t&&t._prevTarget===void 0&&(t._nextTarget=this._targets,this._targets!==void 0&&(this._targets._prevTarget=t),this._targets=t)};C.prototype._unsubscribe=function(t){if(this._targets!==void 0){let e=t._prevTarget,n=t._nextTarget;e!==void 0&&(e._nextTarget=n,t._prevTarget=void 0),n!==void 0&&(n._prevTarget=e,t._nextTarget=void 0),t===this._targets&&(this._targets=n)}};C.prototype.subscribe=function(t){return xe(()=>{let e=this.value,n=R;R=void 0;try{t(e)}finally{R=n}})};C.prototype.valueOf=function(){return this.value};C.prototype.toString=function(){return`${this.value}`};C.prototype.toJSON=function(){return this.value};C.prototype.peek=function(){let t=R;R=void 0;try{return this.value}finally{R=t}};Object.defineProperty(C.prototype,"value",{get(){let t=rt(this);return t!==void 0&&(t._version=this._version),this._value},set(t){if(t!==this._value){if(Oe>100)throw G(re,"SignalCycleDetected");let e=this._value,n=t;this._value=t,this._version++,we++,He();try{for(let r=this._targets;r!==void 0;r=r._nextTarget)r._target._notify()}finally{Fe()}this?._onChange({old:e,revised:n})}}});function it(t){for(let e=t._sources;e!==void 0;e=e._nextSource)if(e._source._version!==e._version||!e._source._refresh()||e._source._version!==e._version)return!0;return!1}function st(t){for(let e=t._sources;e!==void 0;e=e._nextSource){let n=e._source._node;if(n!==void 0&&(e._rollbackNode=n),e._source._node=e,e._version=-1,e._nextSource===void 0){t._sources=e;break}}}function ot(t){let e=t._sources,n;for(;e!==void 0;){let r=e._prevSource;e._version===-1?(e._source._unsubscribe(e),r!==void 0&&(r._nextSource=e._nextSource),e._nextSource!==void 0&&(e._nextSource._prevSource=r)):n=e,e._source._node=e._rollbackNode,e._rollbackNode!==void 0&&(e._rollbackNode=void 0),e=r}t._sources=n}function Y(t){C.call(this,void 0),this._fn=t,this._sources=void 0,this._globalVersion=we-1,this._flags=pe}Y.prototype=new C;Y.prototype._refresh=function(){if(this._flags&=~ie,this._flags&K)return!1;if((this._flags&(pe|se))===se||(this._flags&=~pe,this._globalVersion===we))return!0;if(this._globalVersion=we,this._flags|=K,this._version>0&&!it(this))return this._flags&=~K,!0;let t=R;try{st(this),R=this;let e=this._fn();(this._flags&_e||this._value!==e||this._version===0)&&(this._value=e,this._flags&=~_e,this._version++)}catch(e){this._value=e,this._flags|=_e,this._version++}return R=t,ot(this),this._flags&=~K,!0};Y.prototype._subscribe=function(t){if(this._targets===void 0){this._flags|=pe|se;for(let e=this._sources;e!==void 0;e=e._nextSource)e._source._subscribe(e)}C.prototype._subscribe.call(this,t)};Y.prototype._unsubscribe=function(t){if(this._targets!==void 0&&(C.prototype._unsubscribe.call(this,t),this._targets===void 0)){this._flags&=~se;for(let e=this._sources;e!==void 0;e=e._nextSource)e._source._unsubscribe(e)}};Y.prototype._notify=function(){if(!(this._flags&ie)){this._flags|=pe|ie;for(let t=this._targets;t!==void 0;t=t._nextTarget)t._target._notify()}};Object.defineProperty(Y.prototype,"value",{get(){if(this._flags&K)throw G(re,"SignalCycleDetected");let t=rt(this);if(this._refresh(),t!==void 0&&(t._version=this._version),this._flags&_e)throw G(re,"GetComputedError",{value:this._value});return this._value}});function at(t){return new Y(t)}function lt(t){let e=t._cleanup;if(t._cleanup=void 0,typeof e=="function"){He();let n=R;R=void 0;try{e()}catch(r){throw t._flags&=~K,t._flags|=oe,qe(t),G(re,"CleanupEffectError",{error:r})}finally{R=n,Fe()}}}function qe(t){for(let e=t._sources;e!==void 0;e=e._nextSource)e._source._unsubscribe(e);t._fn=void 0,t._sources=void 0,lt(t)}function pn(t){if(R!==this)throw G(re,"EndEffectError");ot(this),R=t,this._flags&=~K,this._flags&oe&&qe(this),Fe()}function me(t){this._fn=t,this._cleanup=void 0,this._sources=void 0,this._nextBatchedEffect=void 0,this._flags=se}me.prototype._callback=function(){let t=this._start();try{if(this._flags&oe||this._fn===void 0)return;let e=this._fn();typeof e=="function"&&(this._cleanup=e)}finally{t()}};me.prototype._start=function(){if(this._flags&K)throw G(re,"SignalCycleDetected");this._flags|=K,this._flags&=~oe,lt(this),st(this),He();let t=R;return R=this,pn.bind(this,t)};me.prototype._notify=function(){this._flags&ie||(this._flags|=ie,this._nextBatchedEffect=de,de=this)};me.prototype._dispose=function(){this._flags|=oe,this._flags&K||qe(this)};function xe(t){let e=new me(t);try{e._callback()}catch(n){throw e._dispose(),n}return e._dispose.bind(e)}var ut="namespacedSignals",ae=t=>{document.dispatchEvent(new CustomEvent(ue,{detail:Object.assign({added:[],removed:[],updated:[]},t)}))};function ct(t,e=!1){let n={};for(let r in t)if(Object.hasOwn(t,r)){if(e&&r.startsWith("_"))continue;let i=t[r];i instanceof C?n[r]=i.value:n[r]=ct(i)}return n}function ft(t,e,n=!1){let r={added:[],removed:[],updated:[]};for(let i in e)if(Object.hasOwn(e,i)){if(i.match(/\_\_+/))throw G(ut,"InvalidSignalKey",{key:i});let s=e[i];if(s instanceof Object&&!Array.isArray(s)){t[i]||(t[i]={});let c=ft(t[i],s,n);r.added.push(...c.added.map(u=>`${i}.${u}`)),r.removed.push(...c.removed.map(u=>`${i}.${u}`)),r.updated.push(...c.updated.map(u=>`${i}.${u}`))}else{if(Object.hasOwn(t,i)){if(n)continue;let f=t[i];if(f instanceof C){let A=f.value;f.value=s,A!==s&&r.updated.push(i);continue}}let u=new C(s);u._onChange=()=>{ae({updated:[i]})},t[i]=u,r.added.push(i)}}return r}function dt(t,e){for(let n in t)if(Object.hasOwn(t,n)){let r=t[n];r instanceof C?e(n,r):dt(r,(i,s)=>{e(`${n}.${i}`,s)})}}function mn(t,...e){let n={};for(let r of e){let i=r.split("."),s=t,c=n;for(let f=0;f<i.length-1;f++){let A=i[f];if(!s[A])return{};c[A]||(c[A]={}),s=s[A],c=c[A]}let u=i[i.length-1];c[u]=s[u]}return n}var Me=class{#e={};exists(e){return!!this.signal(e)}signal(e){let n=e.split("."),r=this.#e;for(let c=0;c<n.length-1;c++){let u=n[c];if(!r[u])return null;r=r[u]}let i=n[n.length-1],s=r[i];if(!s)throw G(ut,"SignalNotFound",{path:e});return s}setSignal(e,n){let r=e.split("."),i=this.#e;for(let c=0;c<r.length-1;c++){let u=r[c];i[u]||(i[u]={}),i=i[u]}let s=r[r.length-1];i[s]=n}setComputed(e,n){let r=at(()=>n());this.setSignal(e,r)}value(e){return this.signal(e)?.value}setValue(e,n){let{signal:r}=this.upsertIfMissing(e,n),i=r.value;r.value=n,i!==n&&ae({updated:[e]})}upsertIfMissing(e,n){let r=e.split("."),i=this.#e;for(let f=0;f<r.length-1;f++){let A=r[f];i[A]||(i[A]={}),i=i[A]}let s=r[r.length-1],c=i[s];if(c instanceof C)return{signal:c,inserted:!1};let u=new C(n);return u._onChange=()=>{ae({updated:[e]})},i[s]=u,ae({added:[e]}),{signal:u,inserted:!0}}remove(...e){if(!e.length){this.#e={};return}let n=Array();for(let r of e){let i=r.split("."),s=this.#e;for(let u=0;u<i.length-1;u++){let f=i[u];if(!s[f])return;s=s[f]}let c=i[i.length-1];delete s[c],n.push(r)}ae({removed:n})}merge(e,n=!1){let r=ft(this.#e,e,n);(r.added.length||r.removed.length||r.updated.length)&&ae(r)}subset(...e){return mn(this.values(),...e)}walk(e){dt(this.#e,e)}paths(){let e=new Array;return this.walk(n=>e.push(n)),e}values(e=!1){return ct(this.#e,e)}JSON(e=!0,n=!1){let r=this.values(n);return e?JSON.stringify(r,null,2):JSON.stringify(r)}toString(){return this.JSON()}};var pt=new Me,We=[],Re={},gn=[],Z=new Map,$e=null,Ge="";function mt(t){Ge=t}function Ne(...t){for(let e of t){let n={plugin:e,signals:pt,effect:i=>xe(i),actions:Re,removals:Z,applyToElement:Ve},r;switch(e.type){case 2:{let i=e;gn.push(i),r=i.onGlobalInit;break}case 3:{Re[e.name]=e;break}case 1:{let i=e;We.push(i),r=i.onGlobalInit;break}default:throw B("InvalidPluginType",n)}r&&r(n)}We.sort((e,n)=>{let r=n.name.length-e.name.length;return r!==0?r:e.name.localeCompare(n.name)})}function Be(){Ve(document.documentElement),hn()}function Ve(t){fe(t,e=>{let n=new Array,r=Z.get(e.id)||new Map,i=new Map([...r]),s=new Map;for(let c of Object.keys(e.dataset)){if(!c.startsWith(Ge))break;let u=e.dataset[c]||"",f=Ae(c,u);s.set(c,f),r.has(f)?i.delete(f):n.push(c)}for(let[c,u]of i)u();for(let c of n){let u=s.get(c);vn(e,c,u)}})}function hn(){$e||($e=new MutationObserver(t=>{let e=new Set,n=new Set;for(let{target:r,type:i,addedNodes:s,removedNodes:c}of t)switch(i){case"childList":{for(let u of c)e.add(u);for(let u of s)n.add(u)}break;case"attributes":{n.add(r);break}}for(let r of e){let i=Z.get(r.id);if(i){for(let[s,c]of i)c(),i.delete(s);i.size===0&&Z.delete(r.id)}}for(let r of n)Ve(r)}),$e.observe(document.body,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0}))}function vn(t,e,n){let r=X(e.slice(Ge.length)),i=We.find(m=>r.startsWith(m.name));if(!i)return;t.id.length||(t.id=Te(t));let[s,...c]=r.slice(i.name.length).split(/\_\_+/),u=s.length>0;u&&(s=X(s));let f=t.dataset[e]||"",A=f.length>0,E={signals:pt,applyToElement:Ve,effect:m=>xe(m),actions:Re,removals:Z,genRX:()=>yn(E,...i.argNames||[]),plugin:i,el:t,rawKey:r,key:s,value:f,mods:new Map},w=i.keyReq||0;if(u){if(w===2)throw I(`${i.name}KeyNotAllowed`,E)}else if(w===1)throw I(`${i.name}KeyRequired`,E);let b=i.valReq||0;if(A){if(b===2)throw I(`${i.name}ValueNotAllowed`,E)}else if(b===1)throw I(`${i.name}ValueRequired`,E);if(w===3||b===3){if(u&&A)throw I(`${i.name}KeyAndValueProvided`,E);if(!u&&!A)throw I(`${i.name}KeyOrValueRequired`,E)}for(let m of c){let[S,...g]=m.split(".");E.mods.set(X(S),new Set(g.map(o=>o.toLowerCase())))}let T=i.onLoad(E)??(()=>{}),y=Z.get(t.id);y||(y=new Map,Z.set(t.id,y)),y.set(n,T)}function yn(t,...e){let n="",r=/(\/(\\\/|[^\/])*\/|"(\\"|[^\"])*"|'(\\'|[^'])*'|`(\\`|[^`])*`|[^;])+/gm,i=t.value.trim().match(r);if(i){let T=i.length-1,y=i[T].trim();y.startsWith("return")||(i[T]=`return (${y});`),n=i.join(`;
`)}let s=new Map,c=new RegExp(`(?:${ve})(.*?)(?:${Pe})`,"gm");for(let T of n.matchAll(c)){let y=T[1],m=new ne("dsEscaped").with(y).string;s.set(m,y),n=n.replace(ve+y+Pe,m)}let u=/@(\w*)\(/gm,f=n.matchAll(u),A=new Set;for(let T of f)A.add(T[1]);let E=new RegExp(`@(${Object.keys(Re).join("|")})\\(`,"gm");n=n.replaceAll(E,"ctx.actions.$1.fn(ctx,");let w=t.signals.paths();if(w.length){let T=new RegExp(`\\$(${w.join("|")})(\\W|$)`,"gm");n=n.replaceAll(T,"ctx.signals.signal('$1').value$2")}for(let[T,y]of s)n=n.replace(T,y);let b=`return (()=> {
${n}
})()`;t.fnContent=b;try{let T=new Function("ctx",...e,b);return(...y)=>{try{return T(t,...y)}catch(m){throw I("ExecuteExpression",t,{error:m.message})}}}catch(T){throw I("GenerateExpression",t,{error:T.message})}}Ne(nt,tt,et);var ge=document,U=!!ge.startViewTransition;var gt=function(){"use strict";let t=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:t,afterNodeAdded:t,beforeNodeMorphed:t,afterNodeMorphed:t,beforeNodeRemoved:t,afterNodeRemoved:t,beforeAttributeUpdated:t},head:{style:"merge",shouldPreserve:b=>b.getAttribute("im-preserve")==="true",shouldReAppend:b=>b.getAttribute("im-re-append")==="true",shouldRemove:t,afterHeadMorphed:t},restoreFocus:!0};function n(b,T,y={}){b=E(b);let m=w(T),S=A(b,m,y),g=i(S,()=>u(S,b,m,o=>o.morphStyle==="innerHTML"?(s(o,b,m),Array.from(b.childNodes)):r(o,b,m)));return S.pantry.remove(),g}function r(b,T,y){let m=w(T),S=Array.from(m.childNodes),g=S.indexOf(T),o=S.length-(g+1);return s(b,m,y,T,T.nextSibling),S=Array.from(m.childNodes),S.slice(g,S.length-o)}function i(b,T){if(!b.config.restoreFocus)return T();let y=document.activeElement;if(!(y instanceof HTMLInputElement||y instanceof HTMLTextAreaElement))return T();let{id:m,selectionStart:S,selectionEnd:g}=y,o=T();return m&&m!==document.activeElement?.id&&(y=b.target.querySelector(`#${m}`),y?.focus()),y&&!y.selectionEnd&&g&&y.setSelectionRange(S,g),o}let s=function(){function b(l,a,v,p=null,h=null){a instanceof HTMLTemplateElement&&v instanceof HTMLTemplateElement&&(a=a.content,v=v.content),p||=a.firstChild;for(let _ of v.childNodes){if(p&&p!=h){let V=y(l,_,p,h);if(V){V!==p&&S(l,p,V),c(V,_,l),p=V.nextSibling;continue}}if(_ instanceof Element&&l.persistentIds.has(_.id)){let V=g(a,_.id,p,l);c(V,_,l),p=V.nextSibling;continue}let N=T(a,_,p,l);N&&(p=N.nextSibling)}for(;p&&p!=h;){let _=p;p=p.nextSibling,m(l,_)}}function T(l,a,v,p){if(p.callbacks.beforeNodeAdded(a)===!1)return null;if(p.idMap.has(a)){let h=document.createElement(a.tagName);return l.insertBefore(h,v),c(h,a,p),p.callbacks.afterNodeAdded(h),h}else{let h=document.importNode(a,!0);return l.insertBefore(h,v),p.callbacks.afterNodeAdded(h),h}}let y=function(){function l(p,h,_,N){let V=null,M=h.nextSibling,H=0,L=_;for(;L&&L!=N;){if(v(L,h)){if(a(p,L,h))return L;V===null&&(p.idMap.has(L)||(V=L))}if(V===null&&M&&v(L,M)&&(H++,M=M.nextSibling,H>=2&&(V=void 0)),L.contains(document.activeElement))break;L=L.nextSibling}return V||null}function a(p,h,_){let N=p.idMap.get(h),V=p.idMap.get(_);if(!V||!N)return!1;for(let M of N)if(V.has(M))return!0;return!1}function v(p,h){let _=p,N=h;return _.nodeType===N.nodeType&&_.tagName===N.tagName&&(!_.id||_.id===N.id)}return l}();function m(l,a){if(l.idMap.has(a))d(l.pantry,a,null);else{if(l.callbacks.beforeNodeRemoved(a)===!1)return;a.parentNode?.removeChild(a),l.callbacks.afterNodeRemoved(a)}}function S(l,a,v){let p=a;for(;p&&p!==v;){let h=p;p=p.nextSibling,m(l,h)}return p}function g(l,a,v,p){let h=p.target.querySelector(`#${a}`)||p.pantry.querySelector(`#${a}`);return o(h,p),d(l,h,v),h}function o(l,a){let v=l.id;for(;l=l.parentNode;){let p=a.idMap.get(l);p&&(p.delete(v),p.size||a.idMap.delete(l))}}function d(l,a,v){if(l.moveBefore)try{l.moveBefore(a,v)}catch{l.insertBefore(a,v)}else l.insertBefore(a,v)}return b}(),c=function(){function b(o,d,l){return l.ignoreActive&&o===document.activeElement?null:(l.callbacks.beforeNodeMorphed(o,d)===!1||(o instanceof HTMLHeadElement&&l.head.ignore||(o instanceof HTMLHeadElement&&l.head.style!=="morph"?f(o,d,l):(T(o,d,l),g(o,l)||s(l,o,d))),l.callbacks.afterNodeMorphed(o,d)),o)}function T(o,d,l){let a=d.nodeType;if(a===1){let v=o,p=d,h=v.attributes,_=p.attributes;for(let N of _)S(N.name,v,"update",l)||v.getAttribute(N.name)!==N.value&&v.setAttribute(N.name,N.value);for(let N=h.length-1;0<=N;N--){let V=h[N];if(V&&!p.hasAttribute(V.name)){if(S(V.name,v,"remove",l))continue;v.removeAttribute(V.name)}}g(v,l)||y(v,p,l)}(a===8||a===3)&&o.nodeValue!==d.nodeValue&&(o.nodeValue=d.nodeValue)}function y(o,d,l){if(o instanceof HTMLInputElement&&d instanceof HTMLInputElement&&d.type!=="file"){let a=d.value,v=o.value;m(o,d,"checked",l),m(o,d,"disabled",l),d.hasAttribute("value")?v!==a&&(S("value",o,"update",l)||(o.setAttribute("value",a),o.value=a)):S("value",o,"remove",l)||(o.value="",o.removeAttribute("value"))}else if(o instanceof HTMLOptionElement&&d instanceof HTMLOptionElement)m(o,d,"selected",l);else if(o instanceof HTMLTextAreaElement&&d instanceof HTMLTextAreaElement){let a=d.value,v=o.value;if(S("value",o,"update",l))return;a!==v&&(o.value=a),o.firstChild&&o.firstChild.nodeValue!==a&&(o.firstChild.nodeValue=a)}}function m(o,d,l,a){let v=d[l],p=o[l];if(v!==p){let h=S(l,o,"update",a);h||(o[l]=d[l]),v?h||o.setAttribute(l,""):S(l,o,"remove",a)||o.removeAttribute(l)}}function S(o,d,l,a){return o==="value"&&a.ignoreActiveValue&&d===document.activeElement?!0:a.callbacks.beforeAttributeUpdated(o,d,l)===!1}function g(o,d){return!!d.ignoreActiveValue&&o===document.activeElement&&o!==document.body}return b}();function u(b,T,y,m){if(b.head.block){let S=T.querySelector("head"),g=y.querySelector("head");if(S&&g){let o=f(S,g,b);return Promise.all(o).then(()=>{let d=Object.assign(b,{head:{block:!1,ignore:!0}});return m(d)})}}return m(b)}function f(b,T,y){let m=[],S=[],g=[],o=[],d=new Map;for(let a of T.children)d.set(a.outerHTML,a);for(let a of b.children){let v=d.has(a.outerHTML),p=y.head.shouldReAppend(a),h=y.head.shouldPreserve(a);v||h?p?S.push(a):(d.delete(a.outerHTML),g.push(a)):y.head.style==="append"?p&&(S.push(a),o.push(a)):y.head.shouldRemove(a)!==!1&&S.push(a)}o.push(...d.values());let l=[];for(let a of o){let v=document.createRange().createContextualFragment(a.outerHTML).firstChild;if(y.callbacks.beforeNodeAdded(v)!==!1){if("href"in v&&v.href||"src"in v&&v.src){let p,h=new Promise(function(_){p=_});v.addEventListener("load",function(){p()}),l.push(h)}b.appendChild(v),y.callbacks.afterNodeAdded(v),m.push(v)}}for(let a of S)y.callbacks.beforeNodeRemoved(a)!==!1&&(b.removeChild(a),y.callbacks.afterNodeRemoved(a));return y.head.afterHeadMorphed(b,{added:m,kept:g,removed:S}),l}let A=function(){function b(d,l,a){let{persistentIds:v,idMap:p}=g(d,l),h=T(a),_=h.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(_))throw`Do not understand how to morph style ${_}`;return{target:d,newContent:l,config:h,morphStyle:_,ignoreActive:h.ignoreActive,ignoreActiveValue:h.ignoreActiveValue,restoreFocus:h.restoreFocus,idMap:p,persistentIds:v,pantry:y(),callbacks:h.callbacks,head:h.head}}function T(d){let l=Object.assign({},e);return Object.assign(l,d),l.callbacks=Object.assign({},e.callbacks,d.callbacks),l.head=Object.assign({},e.head,d.head),l}function y(){let d=document.createElement("div");return d.hidden=!0,document.body.insertAdjacentElement("afterend",d),d}function m(d){let l=Array.from(d.querySelectorAll("[id]"));return d.id&&l.push(d),l}function S(d,l,a,v){for(let p of v)if(l.has(p.id)){let h=p;for(;h;){let _=d.get(h);if(_==null&&(_=new Set,d.set(h,_)),_.add(p.id),h===a)break;h=h.parentElement}}}function g(d,l){let a=m(d),v=m(l),p=o(a,v),h=new Map;S(h,p,d,a);let _=l.__idiomorphRoot||l;return S(h,p,_,v),{persistentIds:p,idMap:h}}function o(d,l){let a=new Set,v=new Map;for(let{id:h,tagName:_}of d)v.has(h)?a.add(h):v.set(h,_);let p=new Set;for(let{id:h,tagName:_}of l)p.has(h)?a.add(h):v.get(h)===_&&p.add(h);for(let h of a)p.delete(h);return p}return b}(),{normalizeElement:E,normalizeParent:w}=function(){let b=new WeakSet;function T(g){return g instanceof Document?g.documentElement:g}function y(g){if(g==null)return document.createElement("div");if(typeof g=="string")return y(S(g));if(b.has(g))return g;if(g instanceof Node){if(g.parentNode)return m(g);{let o=document.createElement("div");return o.append(g),o}}else{let o=document.createElement("div");for(let d of[...g])o.append(d);return o}}function m(g){return{childNodes:[g],querySelectorAll:o=>{let d=g.querySelectorAll(o);return g.matches(o)?[g,...d]:d},insertBefore:(o,d)=>g.parentNode.insertBefore(o,d),moveBefore:(o,d)=>g.parentNode.moveBefore(o,d),get __idiomorphRoot(){return g}}}function S(g){let o=new DOMParser,d=g.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(d.match(/<\/html>/)||d.match(/<\/head>/)||d.match(/<\/body>/)){let l=o.parseFromString(g,"text/html");if(d.match(/<\/html>/))return b.add(l),l;{let a=l.firstChild;return a&&b.add(a),a}}else{let a=o.parseFromString("<body><template>"+g+"</template></body>","text/html").body.querySelector("template").content;return b.add(a),a}}return{normalizeElement:T,normalizeParent:y}}();return{morph:n,defaults:e}}();var bn=`${F}-sse`,Ke=`${F}-settling`,Q=`${F}-swapping`;function J(t,e){document.addEventListener(bn,n=>{if(n.detail.type!==t)return;let{argsRaw:r}=n.detail;e(r)})}var vt={type:2,name:q.MergeFragments,onGlobalInit:async t=>{let e=document.createElement("template");J(q.MergeFragments,({fragments:n="<div></div>",selector:r="",mergeMode:i=Qe,settleDuration:s=`${ye}`,useViewTransition:c=`${be}`})=>{let u=Number.parseInt(s),f=ee(c);e.innerHTML=n.trim();let A=[...e.content.children];for(let E of A){if(!(E instanceof Element))throw B("NoFragmentsFound",t);let w=r||`#${E.getAttribute("id")}`,b=[...document.querySelectorAll(w)||[]];if(!b.length)throw B("NoTargetsFound",t,{selectorOrID:w});f&&U?ge.startViewTransition(()=>ht(t,i,u,E,b)):ht(t,i,u,E,b)}})}};function ht(t,e,n,r,i){for(let s of i){s.classList.add(Q);let c=s.outerHTML,u=s;switch(e){case W.Morph:{let E=r.cloneNode(!0);fe(E,w=>{!w.id?.length&&Object.keys(w.dataset).length&&(w.id=Te(w));let b=t.removals.get(w.id);if(b){let T=new Map;for(let[y,m]of b){let S=Ae(y,y);T.set(S,m),b.delete(y)}t.removals.set(w.id,T)}}),gt.morph(u,E);break}case W.Inner:u.innerHTML=r.outerHTML;break;case W.Outer:u.replaceWith(r);break;case W.Prepend:u.prepend(r);break;case W.Append:u.append(r);break;case W.Before:u.before(r);break;case W.After:u.after(r);break;case W.UpsertAttributes:for(let E of r.getAttributeNames()){let w=r.getAttribute(E);u.setAttribute(E,w)}break;default:throw B("InvalidMergeMode",t,{mergeMode:e})}let f=u.classList;f?.add(Q),setTimeout(()=>{s.classList.remove(Q),f?.remove(Q)},n);let A=u.outerHTML;f&&c!==A&&(f.add(Ke),setTimeout(()=>{f.remove(Ke)},n))}}var yt={type:2,name:q.MergeSignals,onGlobalInit:async t=>{J(q.MergeSignals,({signals:e="{}",onlyIfMissing:n=`${Ze}`})=>{let{signals:r}=t,i=ee(n);r.merge(Se(e),i)})}};var bt={type:2,name:q.RemoveFragments,onGlobalInit:async t=>{J(q.RemoveFragments,({selector:e,settleDuration:n=`${ye}`,useViewTransition:r=`${be}`})=>{if(!e.length)throw B("NoSelectorProvided",t);let i=Number.parseInt(n),s=ee(r),c=document.querySelectorAll(e),u=()=>{for(let f of c)f.classList.add(Q);setTimeout(()=>{for(let f of c)f.remove()},i)};s&&U?ge.startViewTransition(()=>u()):u()})}};var St={type:2,name:q.RemoveSignals,onGlobalInit:async t=>{J(q.RemoveSignals,({paths:e=""})=>{let n=e.split(`
`).map(r=>r.trim());if(!n?.length)throw B("NoPathsProvided",t);t.signals.remove(...n)})}};var Tt={type:3,name:"clipboard",fn:(t,e)=>{if(!navigator.clipboard)throw I("ClipboardNotAvailable",t);navigator.clipboard.writeText(e)}};var At={type:1,name:"customValidity",keyReq:2,valReq:1,onLoad:t=>{let{el:e,genRX:n,effect:r}=t;if(!(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement))throw I("CustomValidityInvalidElement",t);let i=n();return r(()=>{let s=i();if(typeof s!="string")throw I("CustomValidityInvalidExpression",t,{result:s});e.setCustomValidity(s)})}};var _t="once",Et="half",wt="full",xt={type:1,name:"intersects",keyReq:2,mods:new Set([_t,Et,wt]),onLoad:({el:t,rawKey:e,mods:n,genRX:r})=>{let i={threshold:0};n.has(wt)?i.threshold=1:n.has(Et)&&(i.threshold=.5);let s=r(),c=new IntersectionObserver(u=>{for(let f of u)f.isIntersecting&&(s(),n.has(_t)&&(c.disconnect(),delete t.dataset[e]))},i);return c.observe(t),()=>c.disconnect()}};var Mt="session",Rt={type:1,name:"persist",mods:new Set([Mt]),onLoad:({key:t,effect:e,mods:n,signals:r,value:i})=>{t=P(t,n),t===""&&(t=F);let s=n.has(Mt)?sessionStorage:localStorage,c=i.split(/\s+/).filter(A=>A!=="");c=c.map(A=>te(A));let u=()=>{let A=s.getItem(t)||"{}",E=JSON.parse(A);r.merge(E)},f=()=>{let A;c.length?A=r.subset(...c):A=r.values(),s.setItem(t,JSON.stringify(A))};return u(),e(()=>{f()})}};var Nt={type:1,name:"replaceUrl",keyReq:2,valReq:1,onLoad:({effect:t,genRX:e})=>{let n=e();return t(()=>{let r=n(),i=window.location.href,s=new URL(r,i).toString();window.history.replaceState({},"",s)})}};var Ie="smooth",je="instant",Ue="auto",Vt="hstart",It="hcenter",Ct="hend",Lt="hnearest",Pt="vstart",kt="vcenter",Dt="vend",Ot="vnearest",Sn="focus",Ce="center",Ht="start",Ft="end",qt="nearest",$t={type:1,name:"scrollIntoView",keyReq:2,valReq:2,mods:new Set([Ie,je,Ue,Vt,It,Ct,Lt,Pt,kt,Dt,Ot,Sn]),onLoad:t=>{let{el:e,mods:n,rawKey:r}=t;e.tabIndex||e.setAttribute("tabindex","0");let i={behavior:Ie,block:Ce,inline:Ce};if(n.has(Ie)&&(i.behavior=Ie),n.has(je)&&(i.behavior=je),n.has(Ue)&&(i.behavior=Ue),n.has(Vt)&&(i.inline=Ht),n.has(It)&&(i.inline=Ce),n.has(Ct)&&(i.inline=Ft),n.has(Lt)&&(i.inline=qt),n.has(Pt)&&(i.block=Ht),n.has(kt)&&(i.block=Ce),n.has(Dt)&&(i.block=Ft),n.has(Ot)&&(i.block=qt),!(e instanceof HTMLElement||e instanceof SVGElement))throw I("ScrollIntoViewInvalidElement",t);e.tabIndex||e.setAttribute("tabindex","0"),e.scrollIntoView(i),n.has("focus")&&e.focus(),delete e.dataset[r]}};var Wt="none",Gt="display",Bt={type:1,name:"show",keyReq:2,valReq:1,onLoad:({el:{style:t},genRX:e,effect:n})=>{let r=e();return n(async()=>{r()?t.display===Wt&&t.removeProperty(Gt):t.setProperty(Gt,Wt)})}};var Kt="view-transition",jt={type:1,name:"viewTransition",keyReq:2,valReq:1,onGlobalInit(){let t=!1;for(let e of document.head.childNodes)e instanceof HTMLMetaElement&&e.name===Kt&&(t=!0);if(!t){let e=document.createElement("meta");e.name=Kt,e.content="same-origin",document.head.appendChild(e)}},onLoad:({effect:t,el:e,genRX:n})=>{if(!U){console.error("Browser does not support view transitions");return}let r=n();return t(()=>{let i=r();if(!i?.length)return;let s=e.style;s.viewTransitionName=i})}};var Ut={type:1,name:"attr",valReq:1,onLoad:({el:t,key:e,effect:n,genRX:r})=>{let i=r();return e===""?n(async()=>{let s=i();for(let[c,u]of Object.entries(s))u===!1?t.removeAttribute(c):t.setAttribute(c,u)}):(e=ce(e),n(async()=>{let s=!1;try{s=i()}catch{}let c;typeof s=="string"?c=s:c=JSON.stringify(s),!c||c==="false"||c==="null"||c==="undefined"?t.removeAttribute(e):t.setAttribute(e,c)}))}};var Tn=/^data:(?<mime>[^;]+);base64,(?<contents>.*)$/,Jt=["change","input","keydown"],zt={type:1,name:"bind",keyReq:3,valReq:3,onLoad:t=>{let{el:e,key:n,mods:r,signals:i,value:s,effect:c}=t,u=e,f=n?P(n,r):te(s),A=e.tagName.toLowerCase(),E=A.includes("input"),w=A.includes("select"),b=e.getAttribute("type"),T=e.hasAttribute("value"),y="",m=E&&b==="checkbox";m&&(y=T?"":!1);let S=E&&b==="number";S&&(y=0);let g=E&&b==="radio";g&&(e.getAttribute("name")?.length||e.setAttribute("name",f));let o=E&&b==="file",{signal:d,inserted:l}=i.upsertIfMissing(f,y),a=-1;Array.isArray(d.value)&&(e.getAttribute("name")===null&&e.setAttribute("name",f),a=[...document.querySelectorAll(`[name="${f}"]`)].findIndex(M=>M===t.el));let v=a>=0,p=()=>[...i.value(f)],h=()=>{let M=i.value(f);v&&!w&&(M=M[a]||y);let H=`${M}`;if(m||g)typeof M=="boolean"?u.checked=M:u.checked=H===u.value;else if(w){let L=e;if(L.multiple){if(!v)throw I("BindSelectMultiple",t);for(let D of L.options){if(D?.disabled)return;let O=S?Number(D.value):D.value;D.selected=M.includes(O)}}else L.value=H}else o||("value"in e?e.value=H:e.setAttribute("value",H))},_=async()=>{let M=i.value(f);if(v){let O=M;for(;a>=O.length;)O.push(y);M=O[a]||y}let H=(O,j)=>{let $=j;v&&!w&&($=p(),$[a]=j),i.setValue(O,$)};if(o){let O=[...u?.files||[]],j=[],$=[],ze=[];await Promise.all(O.map(Xe=>new Promise(an=>{let z=new FileReader;z.onload=()=>{if(typeof z.result!="string")throw I("InvalidFileResultType",t,{resultType:typeof z.result});let Le=z.result.match(Tn);if(!Le?.groups)throw I("InvalidDataUri",t,{result:z.result});j.push(Le.groups.contents),$.push(Le.groups.mime),ze.push(Xe.name)},z.onloadend=()=>an(void 0),z.readAsDataURL(Xe)}))),H(f,j),H(`${f}Mimes`,$),H(`${f}Names`,ze);return}let L=u.value||"",D;if(m){let O=u.checked||u.getAttribute("checked")==="true";T?D=O?L:"":D=O}else if(w){let j=[...e.selectedOptions];v?D=j.filter($=>$.selected).map($=>$.value):D=j[0]?.value||y}else typeof M=="boolean"?D=!!L:typeof M=="number"?D=Number(L):D=L||"";H(f,D)};l&&_();for(let M of Jt)e.addEventListener(M,_);let N=M=>{M.persisted&&_()};window.addEventListener("pageshow",N);let V=c(()=>h());return()=>{V();for(let M of Jt)e.removeEventListener(M,_);window.removeEventListener("pageshow",N)}}};var Xt={type:1,name:"class",valReq:1,onLoad:({el:t,key:e,mods:n,effect:r,genRX:i})=>{let s=t.classList,c=i();return r(()=>{if(e===""){let u=c();for(let[f,A]of Object.entries(u)){let E=f.split(/\s+/);A?s.add(...E):s.remove(...E)}}else e=P(e,n),c()?s.add(e):s.remove(e)})}};function he(t){if(!t||t.size<=0)return 0;for(let e of t){if(e.endsWith("ms"))return Number(e.replace("ms",""));if(e.endsWith("s"))return Number(e.replace("s",""))*1e3;try{return Number.parseFloat(e)}catch{}}return 0}function le(t,e,n=!1){return t?t.has(e.toLowerCase()):n}function Yt(t,e){return(...n)=>{setTimeout(()=>{t(...n)},e)}}function Zt(t,e,n=!1,r=!0){let i=-1,s=()=>i&&clearTimeout(i);return(...c)=>{s(),n&&!i&&t(...c),i=setTimeout(()=>{r&&t(...c),s()},e)}}function Qt(t,e,n=!0,r=!1){let i=!1;return(...s)=>{i||(n&&t(...s),i=!0,setTimeout(()=>{i=!1,r&&t(...s)},e))}}var An="evt",Je="signalsChange",_n=Je.length,en={type:1,name:"on",keyReq:1,valReq:1,argNames:[An],onLoad:({el:t,key:e,mods:n,signals:r,effect:i,genRX:s})=>{let c=s(),u=t;n.has("window")&&(u=window);let f=m=>{m&&((n.has("prevent")||e==="submit")&&m.preventDefault(),n.has("stop")&&m.stopPropagation()),c(m)},A=n.get("delay");if(A){let m=he(A);f=Yt(f,m)}let E=n.get("debounce");if(E){let m=he(E),S=le(E,"leading",!1),g=!le(E,"notrail",!1);f=Zt(f,m,S,g)}let w=n.get("throttle");if(w){let m=he(w),S=!le(w,"noleading",!1),g=le(w,"trail",!1);f=Qt(f,m,S,g)}if(n.has("viewtransition")&&U){let m=f;f=(...S)=>document.startViewTransition(()=>m(...S))}let b={capture:!0,passive:!1,once:!1};if(n.has("capture")||(b.capture=!1),n.has("passive")&&(b.passive=!0),n.has("once")&&(b.once=!0),e==="load")return setTimeout(f,0),()=>{};if(e==="interval"){let m=1e3,S=n.get("duration");S&&(m=he(S),le(S,"leading",!1)&&f());let g=setInterval(f,m);return()=>{clearInterval(g)}}if(e==="raf"){let m,S=()=>{f(),m=requestAnimationFrame(S)};return m=requestAnimationFrame(S),()=>{m&&cancelAnimationFrame(m)}}if(e.startsWith(Je)){if(e===Je){let g=o=>f(o);return document.addEventListener(ue,g),()=>{document.removeEventListener(ue,g)}}let m=P(X(e.slice(_n)),n),S=new Map;return r.walk((g,o)=>{g.startsWith(m)&&S.set(o,o.value)}),i(()=>{for(let[g,o]of S)o!==g.value&&(f(),S.set(g,g.value))})}if(n.has("outside")){u=document;let m=f;f=g=>{let o=g?.target;t.contains(o)||m(g)}}let y=P(e,n);return u.addEventListener(y,f,b),()=>{u.removeEventListener(y,f)}}};var tn={type:1,name:"ref",keyReq:3,valReq:3,onLoad:({el:t,key:e,mods:n,signals:r,value:i})=>{let s=e?P(e,n):te(i);r.setValue(s,t)}};var nn={type:1,name:"text",keyReq:2,valReq:1,onLoad:t=>{let{el:e,effect:n,genRX:r}=t,i=r();return e instanceof HTMLElement||I("TextInvalidElement",t),n(()=>{let s=i(t);e.textContent=`${s}`})}};var{round:En,max:wn,min:xn}=Math,rn={type:3,name:"fit",fn:(t,e,n,r,i,s,c=!1,u=!1)=>{let f=(e-n)/(r-n)*(s-i)+i;return u&&(f=En(f)),c&&(f=wn(i,xn(s,f))),f}};var sn={type:3,name:"setAll",fn:({signals:t},e,n)=>{t.walk((r,i)=>{r.startsWith(e)&&(i.value=n)})}};var on={type:3,name:"toggleAll",fn:({signals:t},e)=>{t.walk((n,r)=>{n.startsWith(e)&&(r.value=!r.value)})}};Ne(vt,yt,bt,St,Tt,At,xt,Rt,Nt,$t,Bt,jt,Ut,zt,Xt,en,tn,nn,rn,sn,on);Be();export{Be as apply,Ne as load,mt as setAlias};
//# sourceMappingURL=datastar-1-0-0-beta-9-60d114ed10e6765d.js.map
